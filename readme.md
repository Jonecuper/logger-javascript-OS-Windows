# Кастомный логгер javascript для Windows

### Кастомная функция для записи логов с уровнями, ротацией, именем файла и разделителями.

параметры:

| Параметр | Значение<br />по-умолчанию | Описание                                                                               |
| ---------------- | --------------------------------------------- | ---------------------------------------------------------------------------------------------- |
| message          |                                               | Сообщение для логирования                                               |
| level            | 'INFO'                                        | Уровень логирования (INFO, ERROR, DEBUG)                                     |
| isAsync          | false                                         | Указывает, нужно ли использовать асинхронный режим |

Возвращает `Promise` в ассинхронном режиме, в синхронном режиме - ничего не возвращает.

Параметры логгера хранятся в конфигурационном файле, если файла не существует, он будет создан автоматически.

1. Формат даты через конфигурацию:

* В конфигурационный файл добавлен параметр `dateFormat`.
* Формат даты задается с использованием библиотеки `date-fns`.

2. Пользовательский формат даты:

* Можно указать формат даты, например:` yy-MM-dd HH:mm:ss` или любой другой формат, поддерживаемый `date-fns`.

Файл конфигурации по-умолчанию расположен в корне текущей директории:

```javascript
const CONFIG_PATH = './logConfig.json'
```

Пример конфигурации (`logConfig.json`):

```json
{
    "logDir": "C:\\local\\logs\\",
    "logFileName": "custom_log.txt",
    "maxFileSize": 1048576,
    "dateFormat": "yyyy-MM-dd HH:mm:ss"
}
```

### Примеры

Может работать в синхронном и в асинхронном режиме

##### пример синхронного вызова:

```javascript
(() => {
    // Синхронное логирование
    customLog('Синхронное логирование с пользовательским форматом даты', 'INFO');
})();
```

##### пример асинхронного вызова:

```javascript
(async () => {
    // Асинхронное логирование
    await customLog('Асинхронное логирование с пользовательским форматом даты', 'INFO', true);  
})();
```

##### пример лог файла:

```markdown
[2024-12-30 22:06:41] [INFO] Синхронное логирование с пользовательским форматом даты
--------------------------------------------------------------------------------
[2024-12-30 22:06:41] [INFO] Асинхронное логирование с пользовательским форматом даты
--------------------------------------------------------------------------------
```

### Зависимости

для работы с кастомными форматами даты и времени требуется библиотека `date-fns`:

```json
{
  "dependencies": {
    "date-fns": "^4.1.0"
  }
}

```
